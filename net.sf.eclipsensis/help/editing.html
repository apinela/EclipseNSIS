<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<!--
###############################################################################
# Copyright (c) 2004, 2005 Sunil Kamath (IcemanK).
# All rights reserved.
# This program is made available under the terms of the Common Public License
# v1.0 which is available at http://www.eclipse.org/legal/cpl-v10.html
#
# Contributors:
# Sunil Kamath (IcemanK) - initial API and implementation
###############################################################################
-->
  <title>EclipseNSIS - Editing NSIS Scripts</title>

  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">

  <meta http-equiv="Content-Style-Type" content="text/css">

  <link rel="stylesheet" href="book.css" charset="ISO-8859-1" type="text/css">

  <script type="text/javascript" language="javascript" src="help.js">
  </script>
  <script type="text/javascript" language="javascript" src="redirect.js">
  </script>
  <script type="text/javascript" language="javascript">
<!--
var current = 0;
var foldingImages = new Array();
foldingImages[0] = new Image();
foldingImages[0].src = "images/folding1.gif";
foldingImages[1] = new Image();
foldingImages[1].src = "images/folding2.gif";
//-->
  </script></head>
<body>
<div id="main">
<a href="configuration.html">Previous</a> | <a href="overview.html#contents">Contents</a> | <a href="compiling.html">Next</a>
<hr>
<h1>Editing NSIS Scripts</h1>
<p>EclipseNSIS comes with an editor for working with NSIS scripts. By
default, the editor is registered to work with files having the .nsi and .nsh
extensions. The editor offers the following features:</p>
<ol>
<li><a href="#editing_commands">Editing Commands</a></li>
<li><a href="#rulers">Vertical and Overview Rulers</a></li>
<li><a href="#menu">Menu and Toolbar</a></li>
<li><a href="#outline">Code Outline</a></li>
<li><a href="#folding">Code Folding</a></li>
<li><a href="#tasktags">Task Tag Detection</a></li>
<li><a href="#integhelp">Integrated Help</a></li>
</ol>
<a name="editing_commmands"></a><h2>Editing Commands</h2>
<p>The editor includes the standard commands available with the Eclipse
Workbench Text editor, including:</p>
<ul>
<li><a href="javascript: redirectEclipse('/org.eclipse.platform.doc.user/reference/ref-57.htm#pgfId-1007195');">Find/Replace</a></li>
<li><a href="javascript: redirectEclipse('/org.eclipse.platform.doc.user/tips/platform_tips.html');">Incremental
search (next and previous)</a></li>
<li><a href="javascript: redirectEclipse('/org.eclipse.platform.doc.user/tips/platform_tips.html');">Shortcuts
for manipulating lines</a></li>
<li><a href="javascript: redirectEclipse('/org.eclipse.platform.doc.user/tips/platform_tips.html');">Quick
diff</a></li>
</ul>
<p>The EclipseNSIS editor also offers additional editing commands. These can
be accessed either from the <span style="font-style: italic;">Edit</span> menuitem in the main menu
bar or by right-clicking in the editor to display the editor popup menu. Most
commands also provide keyboard shortcuts. Click on the image below for help
on a particular command.</p>
<p style="text-align: center;"><img style="border: 0px solid ; width: 337px; height: 419px;" usemap="#editorpopupmenu" ismap="ismap" alt="Editor Popup Menu" src="images/editorpopupmenu.gif"></p>
<a name="a_code_assist"></a>
<dl id="id_code_assist">
<dt>Code Assist</dt>
<dd>Provides a scrollable list of available code completions when
activated from a valid line of code in the EclipseNSIS editor.
Completions include both NSIS keywords as well as code templates. <a href="javascript:history.go(-1)">&larr;&nbsp;Back</a><br>
<strong>Shortcut:</strong> Ctrl+Space
<p style="text-align: center;"><img src="images/codecompletion.gif" style="border: medium none ; width: 405px; height: 224px;" alt="Code Assist"></p>
</dd>
</dl>
<a name="a_insert_template"></a>
<dl id="id_insert_template">
<dt>Insert Template</dt>
<dd>Provides a scrollable list of available code templates when activated
from a valid line of code in the EclipseNSIS editor. When a template is
inserted, the user is prompted to complete any unresolved template
variables. See <a href="templateprefs.html">Template Preferences</a>
for more information about code templates. <a href="javascript:history.go(-1)">&larr;&nbsp;Back</a><br>
<strong>Shortcut:</strong> Ctrl+T
<p style="text-align: center;"><img src="images/inserttemplate.gif" style="border: medium none ; width: 361px; height: 202px;" alt="Insert Template"></p>
</dd>
</dl>
<a name="a_tabs_to_spaces"></a>
<dl id="id_tabs_to_spaces">
<dt>Convert Tabs to Spaces</dt>
<dd>Replaces tab characters with spaces in the script. If text is
selected, then only the selected text is operated on, otherwise all
text is operated on. To set the width of a tab character in terms of
spaces see the <a href="editorprefs.html#a_tabwidth">Editor
Preferences</a> page. <a href="javascript:history.go(-1)">&larr;&nbsp;Back</a></dd>
</dl>
<a name="a_toggle_comment"></a>
<dl id="id_toggle_comment">
<dt>Toggle Comment</dt>
<dd>Uncomments the currently selected lines of code if all of them are
commented and comments them otherwise. <a href="javascript:history.go(-1)">&larr;&nbsp;Back</a><br>
<strong>Shortcut:</strong> Ctrl+/</dd>
</dl>
<a name="a_block_comment"></a>
<dl id="id_block_comment">
<dt>Block Comment</dt>
<dd>A text selection in the EclipseNSIS editor can be quickly turned into
a block comment using the Add Block Comment. Conversely, the Remove
Block Comment command removes the block comment enclosing the cursor
position. <a href="javascript:history.go(-1)">&larr;&nbsp;Back</a><br>
<strong>Shortcuts:</strong> Ctrl+Shift+/ (Add Block Comment) and
Ctrl+Shift+\ (Remove Block Comment)</dd>
</dl>
<a name="a_insert_file_name"></a>
<dl id="id_insert_file_name">
<dt>Insert File Name</dt>
<dd>The Insert File Name command pops up a file selection dialog box. If
a file is selected in this dialog box, the file's name is inserted in
the code. This is a quick way to add <strong>File</strong> instructions
to the NSIS script. <a href="javascript:history.go(-1)">&larr;&nbsp;Back</a><br>
<strong>Shortcut:</strong> Shift+F4</dd>
</dl>
<a name="a_insert_folder_name"></a>
<dl id="id_insert_folder_name">
<dt>Insert Folder Name</dt>
<dd>The Insert Folder Name command pops up a folder selection dialog box.
If a folder is selected in this dialog box, the folder's name is
inserted in the code. This is a quick way to add <strong>File</strong>
instructions for folders to the NSIS script. <a href="javascript:history.go(-1)">&larr;&nbsp;Back</a><br>
<strong>Shortcut:</strong> Shift+F5</dd>
</dl>
<a name="a_insert_color"></a>
<dl id="id_insert_color">
<dt>Insert Color</dt>
<dd>The Insert Color command pops up a color selection dialog box. If a
color is selected in this dialog box, the color's RGB hex value is
inserted in the code. This is a quick way to add NSIS commands which
accept a color value, e.g. <strong>BGGradient</strong>, to the NSIS
script. <a href="javascript:history.go(-1)">&larr;&nbsp;Back</a><br>
<strong>Shortcut:</strong> Shift+F6</dd>
</dl>
<a name="rulers"></a>
<h2>Vertical and Overview Rulers</h2>
<p>The vertical ruler is to the left of the editing area in the EclipseNSIS
editor and is used to show text ranges and line-based annotations (e.g.,
problems, bookmarks, tasks, etc.) adjacent to their text line.<br>
The overview ruler is on the right hand side of the editing area, and is used
to show annotations concerning the entire script. These annotations are
shown relative to their position in the script and do not move as the user
scrolls the script source. There usually is a corresponding annotation on
the vertical ruler when that portion of the script is visible.</p>
<p style="text-align: center;"><img alt="Vertical and Overview Rulers" src="images/editorrulers.gif" style="border: medium none ; width: 700px; height: 200px;"></p>
<a name="menu"></a>
<h2>Menu and Toolbar</h2>
<p>The EclipseNSIS editor includes a menu on the main menubar as well as a
toolbar which provide quick access to some EclipseNSIS-related commands.
Click on the image below for help on a particular command.</p>
<p style="text-align: center;"><img style="border: 0px solid ; width: 450px; height: 263px;" usemap="#editormenu" ismap="ismap" alt="Editor Menu" src="images/editormenu.gif"></p>
<a name="a_compile"></a>
<dl id="id_compile">
<dt>Compile Script</dt>
<dd>Compiles the NSIS script currently being edited. This command is
disabled when a script is being compiled, even if it is not the current
script. <a href="javascript:history.go(-1)">&larr;&nbsp;Back</a><br>
<strong>Shortcut:</strong> Alt+C</dd>
</dl>
<a name="a_test"></a>
<dl id="id_test">
<dt>Test Installer</dt>
<dd>Runs the installer generated when the NSIS script currently being
edited was compiled. This command is only enabled if a valid installer exists. See the <a href="compiling.html">Compiling and Testing</a> section for more details.. This command is
disabled when a script is being compiled, even if it is not the current
script. <a href="javascript:history.go(-1)">&larr;&nbsp;Back</a><br>
<strong>Shortcut:</strong> Alt+T</dd>
</dl>
<a name="a_compile_test"></a>
<dl id="id_compile_test">
<dt>Compile Script and Test</dt>
<dd>Compiles the NSIS script currently being edited and runs the
installer generated if there were no errors. This command is disabled
when a script is being compiled, even if it is not the current script.
<a href="javascript:history.go(-1)">&larr;&nbsp;Back</a><br>
<strong>Shortcut:</strong> Alt+M</dd>
</dl>
<a name="a_cancel"></a>
<dl id="id_cancel">
<dt>Cancels Compilation</dt>
<dd>Cancels NSIS script compilation. This command is enabled only when a
script is being compiled, even if it is not the current script. <a href="javascript:history.go(-1)">&larr;&nbsp;Back</a><br>
<strong>Shortcut:</strong> Alt+N</dd>
</dl>
<a name="a_preferences"></a>
<dl id="id_preferences">
<dt>Preferences</dt>
<dd>Opens the Eclipse Workbench Preference Dialog, with the EclipseNSIS
item pre-selected. <a href="javascript:history.go(-1)">&larr;&nbsp;Back</a></dd>
</dl>
<a name="a_wizard"></a>
<dl id="id_wizard">
<dt>EclipseNSIS Script Wizard</dt>
<dd>Opens the EclipseNSIS Script Wizard dialog, which is a GUI for
generating NSIS scripts. See the <a href="wizard.html">Script
Wizard</a> section for more details. <a href="javascript:history.go(-1)">&larr;&nbsp;Back</a></dd>
</dl>
<a name="a_help"></a>
<dl id="id_help">
<dt>EclipseNSIS Help</dt>
<dd>Opens the Eclipse Platform Help browser, with the EclipseNSIS section displayed. <a href="javascript:history.go(-1)">&larr;&nbsp;Back</a></dd>
</dl>
<a name="a_htmlhelp"></a>
<dl id="id_htmlhelp">
<dt>NSIS Help</dt>
<dd>Displays NSIS help. This uses
either the Eclipse Platform help browser or the <a href="#detailedhelp">EclipseNSIS integrated
help browser</a>, depending upon the
preference setting. <a href="javascript:history.go(-1)">&larr;&nbsp;Back</a></dd>
</dl>
<a name="a_about"></a>
<dl id="id_about">
<dt>About EclipseNSIS</dt>
<dd>Opens the EclipseNSIS About dialog. <a href="javascript:history.go(-1)">&larr;&nbsp;Back</a></dd>
</dl>
<a name="outline"></a><h2>Code Outline</h2>
<p>EclipseNSIS includes a code outline view for the currently-active NSIS
script in the EclipseNSIS editor. The outline view lists structural elements
in the NSIS script. The structural elements currently supported by the
outline view are:</p>
<ul>
<li>!define</li>
<li>!ifdef</li>
<li>!ifndef</li>
<li>!ifmacrodef</li>
<li>!ifnmacrodef</li>
<li>!macro</li>
<li>Function</li>
<li>Section</li>
<li>SubSection/SectionGroup</li>
<li>Page</li>
<li>PageEx</li>
</ul>
<p style="text-align: center;"><img alt="Code Outline" style="border: medium none ; width: 300px; height: 406px;" src="images/outline.gif"></p>
<a name="folding"></a><h2>Code Folding</h2>
<p>The EclipseNSIS editor supports folding of certain types of code regions. The code regions supported
are any NSIS keywords which are multi-line in nature, e.g., Function, Section, !macro, etc. Multi-line
comments are also supported for code folding. Click on the image below for a preview of how folding works
in the EclipseNSIS editor.</p>
<div id="div_folding">
<p style="text-align: center;"><img name="img_folding" alt="Code Folding" src="images/folding1.gif" ismap="ismap" style="border: medium none ; width: 540px; height: 352px;" usemap="#folding1"></p>
<script type="text/javascript" language="javascript">
<!--
if(ie) {
document.write("<map name='folding1'><area id='folding' nohref='true' OnClick='current = toggleImage(\"img_folding\",current,foldingImages); if(this.blur) this.blur();' onMouseOver='changeCursor(\"div_folding\",\"hand\");' onMouseOut='changeCursor(\"div_folding\",\"auto\");' shape='RECT' alt='Folding' coords='14,42, 23,47'></map>");
}
else {
document.write("<map name='folding1'><area id='folding' href='javascript: current = toggleImage(\"img_folding\",current,foldingImages); if(this.blur) this.blur();' shape='RECT' alt='Folding' coords='14,42, 23,47'></map>");
}
//-->
</script>
</div>
<a name="tasktags"></a><h2>Task Tag Detection</h2>
<p>When a NSIS script is saved in the EclipseNSIS editor, it is automatically scanned for
any task tags in commented text. Whereever a
task tag is encountered, the EclipseNSIS editor automatically generates
an Eclipse Workbench task. These tasks are shown in the editor
using markers in the <a href="#rulers">vertical and overview rulers</a>, and can also be viewed in the Eclipse Workbench <a href="javascript:redirectEclipse('/org.eclipse.platform.doc.user/concepts/ctskview.htm');">Tasks view</a>.
The task tags can be configured using the <a href="tasktagprefs.html">Task Tags preference page</a>.</p>
<a name="integhelp"></a><h2>Integrated Help</h2>
<p>EclipseNSIS also provides integrated help while working with NSIS scripts. This is available in two forms:</p><br>
<dl>
<a name="quickhelp"></a><dt>Quick Help</dt>
<dd><p>When the mouse hovers over an NSIS keyword, help for that keyword is displayed for in an information popup.</p>
<p style="text-align: center;"><img style="border: 0px solid ; width: 519px; height: 147px;" alt="Hover Help" src="images/hoverhelp.gif"></p>
<p>Pressing the <strong>F2</strong> key displays <a href="#detailedhelp">detailed help</a>, and pressing the <strong>F3</strong> key makes the hover help "sticky":</p>
<p style="text-align: center;"><img style="border: 0px solid ; width: 512px; height: 161px;" alt="Hover Help" src="images/stickyhelp.gif"></p>
</dd>
<a name="detailedhelp"></a><dt>Detailed Help</dt>
<dd><p>EclipseNSIS provides access to detailed NSIS help documentation. This may be accessed in two ways:</p>
<ol>
<li><span style="font-weight: bold;">Eclipse Platform help browser:</span> Navigate to <strong style="font-weight: normal; font-style: italic;">EclipseNSIS User Guide&rarr;NSIS Users Manual.</strong></li>
<li><span style="font-weight: bold;">EclipseNSIS integrated help browser:</span> Open the Eclipse Workbench Show View dialog and navigate to
<strong style="font-weight: normal; font-style: italic;">EclipseNSIS&rarr;NSIS Users Manual</strong>.</li>
</ol>
<p style="text-align: center;"><img style="border: 0px solid ; width: 622px; height: 394px;" alt="Integrated Help Browser" src="images/nsishelp.gif"></p>
<p> Detailed help on NSIS keywords can be directly accessed by clicking
on a keyword and pressing the <strong>F2</strong> key or by pressing the <strong>F2</strong> key in either
the hover help or sticky help popups.
The preferred method for directly accessing detailed help can be configured in the <a href="nsisprefs.htmll#a_help">EclipseNSIS preferences page</a>. Once this has been done,
pressing the <strong>F2</strong> key or selecting the <a href="#a_htmlhelp">NSIS Help menu or toolbar item</a>
will display detailed help in the chosen browser- i.e., either the
Eclipse Workbench help or the EclipseNSIS integrated browser.</p>
</dd>
</dl>
<hr>
<a href="configuration.html">Previous</a> | <a href="overview.html#contents">Contents</a> | <a href="compiling.html">Next</a> <br>
<br>
<p><strong><small>Copyright &copy; 2004, 2005 Sunil Kamath
(IcemanK).</small></strong></p>
<map name="editorpopupmenu"><area id="insert_color" shape="rect" href="#a_insert_color" alt="Insert Color" onclick="highlightDef('id_insert_color');" coords="54,371, 277,388"><area id="insert_folder_name" shape="rect" href="#a_insert_folder_name" alt="Insert Folder Name" onclick="highlightDef('id_insert_folder_name');" coords="54,351, 277,368"><area id="insert_file_name" shape="rect" href="#a_insert_file_name" alt="Insert File Name" onclick="highlightDef('id_insert_file_name');" coords="54,329, 277,346"><area id="block_comment" shape="rect" href="#a_block_comment" alt="Block Comment" onclick="highlightDef('id_block_comment');" coords="54,282, 277,317"><area id="toggle_comment" shape="rect" href="#a_toggle_comment" alt="Toggle Comment" onclick="highlightDef('id_toggle_comment');" coords="54,263, 277,281"><area id="tabs_to_spaces" shape="rect" href="#a_tabs_to_spaces" alt="Convert Tabs to Spaces" onclick="highlightDef('id_tabs_to_spaces');" coords="54,245, 277,262"><area id="insert_template" shape="rect" href="#a_insert_template" alt="Insert Template" onclick="highlightDef('id_insert_template');" coords="54,218, 277,235"><area id="code_assist" shape="rect" href="#a_code_assist" alt="Code Assist" onclick="highlightDef('id_code_assist');" coords="54,200, 277,217"></map>
<map name="editormenu"><area id="htmlhelp" shape="rect" href="#a_htmlhelp" alt="NSIS Help" onclick="highlightDef('id_htmlhelp');" coords="420,36, 442,60"><area id="help" shape="rect" href="#a_help" alt="EclipseNSIS Help" onclick="highlightDef('id_help');" coords="397,36, 419,60"><area id="wizard" shape="rect" href="#a_wizard" alt="NSIS Script Wizard" onclick="highlightDef('id_wizard');" coords="374,36, 396,60"><area id="preferences" shape="rect" href="#a_preferences" alt="EclipseNSIS Preferences" onclick="highlightDef('id_preferences');" coords="351,36, 373,60"><area id="cancel" shape="rect" href="#a_cancel" alt="Cancel Script Compilation" onclick="highlightDef('id_cancel');" coords="328,36, 350,60"><area id="compile_test" shape="rect" href="#a_compile_test" alt="Compile Script and Test" onclick="highlightDef('id_compile_test');" coords="305,36, 327,60"><area id="test" shape="rect" href="#a_test" alt="Test Installer" onclick="highlightDef('id_test');" coords="282,36, 304,60"><area id="compile" shape="rect" href="#a_compile" alt="Compile Script" onclick="highlightDef('id_compile');" coords="259,36, 281,60"><area id="about" shape="rect" href="#a_about" alt="About EclipseNSIS" onclick="highlightDef('id_about');" coords="9,230, 226,251"><area id="htmlhelp2" shape="rect" href="#a_htmlhelp" alt="NSIS Help" onclick="highlightDef('id_htmlhelp');" coords="9,208, 226,229"><area id="help2" shape="rect" href="#a_help" alt="EclipseNSIS Help" onclick="highlightDef('id_help');" coords="9,186, 226,207"><area id="wizard2" shape="rect" href="#a_wizard" alt="NSIS Script Wizard" onclick="highlightDef('id_wizard');" coords="8,155, 227,176"><area id="preferences2" shape="rect" href="#a_preferences" alt="EclipseNSIS Preferences" onclick="highlightDef('id_preferences');" coords="8,133, 227,154"><area id="cancel2" shape="rect" href="#a_cancel" alt="Cancel Script Compilation" onclick="highlightDef('id_cancel');" coords="9,102, 226,123"><area id="compile_test2" shape="rect" href="#a_compile_test" alt="Compile Script and Test" onclick="highlightDef('id_compile_test');" coords="10,80, 227,101"><area id="test2" shape="rect" href="#a_test" alt="Test Installer" onclick="highlightDef('id_test');" coords="9,57, 226,79"><area id="compile2" shape="rect" href="#a_compile" alt="Compile Script" onclick="highlightDef('id_compile');" coords="9,35, 226,56"></map>
</div>

</body></html>
