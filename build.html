<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<!--
###############################################################################
# Copyright (c) 2004, 2005 Sunil Kamath (IcemanK).
# All rights reserved.
# This program is made available under the terms of the Common Public License
# v1.0 which is available at http://www.eclipse.org/legal/cpl-v10.html
#
# Contributors:
# Sunil Kamath (IcemanK) - initial API and implementation
###############################################################################
-->
  <title>EclipseNSIS - Build Instructions</title>


  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">

  <meta http-equiv="Content-Style-Type" content="text/css">

  <link rel="stylesheet" href="web/css/styles.css" charset="ISO-8859-1" type="text/css">

</head>
<body>
<div id="main">
<h1 style="text-align: center;">EclipseNSIS - Build Instructions</h1>
<p>The following instructions describe how to perform a build of the EclipseNSIS source code. Please note that the build process
has only been testing on Windows 2000 or better platforms.</p>
<ul>
<li><a href="#java">Java Sources</a></li>
<li><a href="#native">Native DLL Sources</a></li>
</ul>
<a name="java"></a><h2>Java Sources</h2>
<p>The majority of EclipseNSIS is
developed in Eclipse PDE using Sun JDK 1.4.2. The normal build process
involves building only Java code, since
the native code rarely changes.</p>
<h3>Requirements</h3>
<ul>
<li>Java 1.4 SDK. Any one of the following can be used:</li>
<ul>
<li><a href="http://java.sun.com/j2se/1.4.2/download.html">Sun</a></li>
<li><a href="http://www-1.ibm.com/support/docview.wss?rs=0&amp;q1=jre+windows&amp;uid=psg1MIGR-56888&amp;loc=en_US&amp;cs=utf-8&amp;cc=us&amp;lang=en">IBM</a></li>
<li><a href="http://commerce.bea.com/products/weblogicjrockit/1.4.2/142_05.jsp">BEA JRockit</a></li>
</ul>
<li><a href="http://www.eclipse.org/downloads/index.php">Eclipse 3.0</a> or better</li>
</ul>
<h3>Instructions</h3>
<ol>
<li>Follow installation instructions for the JDK of your choice and for Eclipse to setup the development environment.</li>
<li>Start Eclipse and switch to the Plugin Development Environment (PDE).</li>
<li>Open the <span style="font-style: italic;">File&rarr;Import...</span> menu and select "Existing Project into Workspace" in the Import wizard dialog.</li>
<li>Navigate to the
[EclipseNSIS]\net.sf.eclipsensis directory and select it. ([EclipseNSIS]
is the directory where the EclipseNSIS source code distribution has been
extracted.)
</li>
<li>Repeat the previous two steps
for the [EclipseNSIS]\net.sf.eclipsensis.feature and
[EclipseNSIS]\net.sf.eclipsensis.site directories.</li>
<li>To build the EclipseNSIS plugin:</li>
<ol style="list-style-type: lower-roman;">
<li>Open the <span style="font-style: italic;">File&rarr;Export...</span> menu and select "Deployable plug-ins and fragments" in the Export wizard dialog.</li>
<li>Select the EclipseNSIS plugin from the <span style="font-style: italic;">Available Plug-ins and Fragments</span> list. The name of the plugin will be "net.sf.eclipsensis (x.x.x)", where x.x.x is the current version.<br>
</li>
<li>In the <span style="font-style: italic;">Export Options</span> group, specify "a single ZIP file" in the <span style="font-style: italic;">Deploy as</span> field.</li>
<li>In the <span style="font-style: italic;">Destination</span> group, specify a <span style="font-style: italic;">File name</span> for the build output.</li>
<li>Press the <span style="font-style: italic;">Finish</span> button to complete the build.</li>
</ol>
<li>To build the EclipseNSIS feature:</li>
<ol style="list-style-type: lower-roman;">
<li>Open the <span style="font-style: italic;">File&rarr;Export...</span> menu and select "Deployable features" in the Export wizard dialog.</li>
<li>Select the EclipseNSIS feature from the <span style="font-style: italic;">Available Features</span> list. The name of the feature will be "net.sf.eclipsensis (x.x.x)", where x.x.x is the current version.</li>
<li>In the <span style="font-style: italic;">Export Options</span> group, specify "a single ZIP file" in the <span style="font-style: italic;">Deploy as</span> field.</li>
<li>In the <span style="font-style: italic;">Destination</span> group, specify a <span style="font-style: italic;">File name</span> for the build output.</li>
<li>Press the <span style="font-style: italic;">Finish</span> button to complete the build.</li>
</ol>
<li>To build the EclipseNSIS update site:</li>
<ol style="list-style-type: lower-roman;">
<li>In the net.sf.eclipsensis.site project, right-click on the site.xml file and open the <span style="font-style: italic;">PDE Tools&rarr;Build Site</span> menu.</li>
<li>The
build process will create sub-directories called "features" and "plugins"
in the project directory. JAR files generated by the build process are
placed in this directories.
</li>
<li>The update site can be
accessed via the Eclipse Software Updates utility by creating a new
local site which points to the project directory.</li>
</ol>
</ol>
<a name="native"></a><h2>Native DLL Sources</h2>
<p>The native DLLs are already
available in precompiled form in the EclipseNSIS source distribution in
the net.sf.eclipsensis/os/win32/x86 directory, so there is no need to
compile them. However, if desired, they can be recompiled as described
below.<br>
</p>
<h3>Requirements</h3>
<ul>
<li>Java 1.4 SDK as described in the <a href="#java">Java Sources</a> section.</li>
<li>Microsoft Visual C++ compiler. Either of the following can be used:</li>
<ul>
<li>Commercial</li>
<ul>
<li><a href="http://msdn.microsoft.com/vstudio/previous/vs6/default.aspx">Microsoft Visual Studio 6.0</a></li>
<li><a href="http://msdn.microsoft.com/vstudio/">Microsoft Visual Studio .NET 2003</a></li>
</ul>
<li>Free</li>
<ul>
<li><a href="http://msdn.microsoft.com/netframework/downloads/framework1_1/">Microsoft .NET Framework 1.1</a> and <a href="http://msdn.microsoft.com/visualc/vctoolkit2003/">Microsoft Visual C++ Toolkit 2003</a></li>
</ul>
</ul>
<li><a href="http://www.microsoft.com/msdownload/platformsdk/sdkupdate/">Microsoft Platform SDK 2003</a> (only the Core SDK is required)</li>
<li><a href="http://www.microsoft.com/downloads/details.aspx?FamilyID=00535334-c8a6-452f-9aa0-d597d16580cc&amp;DisplayLang=en">Microsoft HTML Help Workshop 1.3</a></li>
</ul>
<h3>Instructions</h3>
<ol>
<li>Install all the required software to setup the development environment.</li>
<li>To build WinAPI.dll</li>
<ol style="list-style-type: lower-roman;">
<li>Open a command prompt and cd to the WinAPI directory.</li>
<li>Run build.bat. This will build the release version of the DLL and copy it to the net.sf.eclipsensis/os/win32/x86 directory.
</li>
</ol>
<li>To build MakeNSISRunner.dll</li>
<ol style="list-style-type: lower-roman;">
<li>Open a command prompt and cd to the MakeNSISRunner directory.</li>
<li>Run build.bat. This will build the release version of the DLL and copy it to the net.sf.eclipsensis/os/win32/x86 directory.
</li>
</ol>

</ol>
<hr>
<p style="text-align: center;"><strong><small>Copyright &copy; 2004, 2005 Sunil Kamath (IcemanK).</small></strong></p>
</div>

</body></html>